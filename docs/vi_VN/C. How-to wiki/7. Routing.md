# Routing

## 1. routes.tsx
CÃ³ 2 loáº¡i file routes.tsx cáº§n chÃº Ã½
```html
ðŸ“‚app
 â”£ ðŸ“‚modules
 â”ƒ â”ƒ ðŸ“‚module-name
 â”ƒ â”ƒ â”£ ðŸ“‚page-name
 â”ƒ â”ƒ â”£ ðŸ“œroutes.tsx
 â”ƒ â”ƒ ðŸ“‚...
 â”ƒ â”— ðŸ“œroutes.tsx
```
- File `routes.tsx` trong tá»«ng module Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ cÃ i Ä‘áº·t route cho cÃ¡c page trong module Ä‘Ã³.
- File `routes.tsx` á»Ÿ folder `modules` dÃ¹ng Ä‘á»ƒ nhÃ³m cÃ¡c routes tá»« cÃ¡c module láº¡i.

## 2. Route API
- path(: string):
- exact(?: boolean):
- redirectTo(?: string): redirect user sang Ä‘Æ°á»ng dáº«n khi khi path Ä‘Æ°á»£c matched.  
  Khi khÃ´ng cÃ³ "/" á»Ÿ Ä‘áº§u, rediectTo sáº½ ná»‘i vá»›i path cá»§a route cha:
  ```ts
  'login' => 'react.io/auth/login'
  ```

  Khi cÃ³ "/" á»Ÿ Ä‘áº§u:
  ```ts
  '/login' => 'react.io/login'
  ```
- data: data Ä‘Æ°á»£c truyá»ƒn vÃ o cho middleware
- middlewares: pipeline middleware, cháº¡y trÆ°á»›c khi render page.
- component: component dÃ¹ng Ä‘á»ƒ render khi route Ä‘Æ°á»£c matched
- fallback: react suspense fallback, component Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ hiá»ƒn thá»‹ trÆ°á»›c khi lazy load xong page.
- children(?: Route[]): DÃ¹ng Ä‘á»ƒ Ä‘á»‹nh nghÄ©a cÃ¡c route con.

VÃ­ dá»¥:
```ts
// app/modules/routes.tsx
import { BlankLayout } from "common/components/layout/blank-layout";
import { NormalLayout } from "common/components/layout/normal-layout";
import { accountRoutes } from "common/modules/account/router";
import { authRoutes } from "common/modules/auth/routes";
import { Routes } from "app/types/route";

export const appRoutes: Routes = [
  {
    path: 'auth',
    middlewares: [GuestGuard],
    component: BlankLayout,
    children: authRoutes,
  },
  {
    path: '',
    component: NormalLayout,
    middlewares: [AuthenGuard],
    children: [
      {
        path: 'account',
        middlewares: [AuthorGuard],
        data: {
          permission: ['******']
        },
        component: BlankLayout,
        children: accountRoutes,
      },
      ...
    ],
  },
];

// src/app/modules/auth/routes.tsx
import React from "react";
import { Routes } from "app/types/route";

export const authRoutes: Routes = [
  {
    path: 'login',
    exact: true,
    component: React.lazy(() => import('app/modules/auth/login')),
  },
  {
    path: '',
    exact: true,
    redirectTo: 'login',
  },
];
```